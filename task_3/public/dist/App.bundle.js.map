{"version":3,"sources":["webpack:///webpack/bootstrap 09ad2cf156fe62f9a5ab","webpack:///./public/scripts/calendar.js","webpack:///./public/scripts/helpers.js","webpack:///./public/scss/main.scss?3d8a","webpack:///./public/scripts/app.js","webpack:///./pages/getRecomendation.js"],"names":["calendar","id","year","month","Dlast","Date","getDate","D","DNlast","getFullYear","getMonth","getDay","DNfirst","i","document","querySelector","innerHTML","dataset","querySelectorAll","length","$","onclick","parseFloat","on","addClass","timeLines","lastScrollLeft","scrollLeft","calendarElem","meetingInfo","each","elem","text","getLetterMonthRu","window","scroll","css","scrollTop","position","transform","toggleClass","event","target","width","innerWidth","offset","left","widthElem","parseInt","console","log","meetingInfoWidth","find","needOffset","rightTrigger","leftTrigger","cornerOffset","focus","fadeIn","focusout","fadeOut","regExp","test","navigator","userAgent","login","data","removeClass","checked","parents","keyup","filter","val","filterTarget","hide","show","jQuery","expr","Contains","a","m","toLowerCase","indexOf","ready","datepicker","keydown","e","preventDefault","dateInInput","parse","resultString","getUTCDate","getUTCMonth","getUTCFullYear","timepicker","timeFormat","interval","minTime","maxTime","defaultTime","startTime","dynamic","dropdown","scrollbar","module","exports","getRecommendation","date","members","db","floors","rooms","JSON","stringify","forEach","room","floor","push","map","floorNumber","count","Math","abs","member","sort","b","allRecommendation","recommendedRooms","capacity","copyEvents","events","slice","eventsInRoom","dateValid","eventInRoom","dateStartValid","start","end","dateEndValid","concat","roomsWithEvents","result","swap","firstCondition","secondCondition","thirdCondition","enableTransfer","Array","isArray","duplicate","item","eventMain","roomEvent","allSwaps","floorEvent","sortSwapsByFloor","swaps","resultMassive","element","timeDiff","endTime","setUTCHours","setUTCMinutes","eventsWithNewTime","eventsAfterStart","newDate","eventAfterStart","validEvent","eventValidation","valueOf","recommendation","toISOString"],"mappings":"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","file":"App.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 09ad2cf156fe62f9a5ab","function calendar(id, year, month) {\n  var Dlast = new Date(year, month + 1, 0).getDate(),\n    D = new Date(year, month, Dlast),\n    DNlast = new Date(D.getFullYear(), D.getMonth(), Dlast).getDay(),\n    DNfirst = new Date(D.getFullYear(), D.getMonth(), 1).getDay(),\n    calendar = '<tr>',\n    month = [\"Январь\", \"Февраль\", \"Март\", \"Апрель\", \"Май\", \"Июнь\", \"Июль\", \"Август\", \"Сентябрь\", \"Октябрь\", \"Ноябрь\", \"Декабрь\"];\n  if (DNfirst !== 0) {\n    for (var i = 1; i < DNfirst; i++) calendar += '<td>';\n  } else {\n    for (var i = 0; i < 6; i++) calendar += '<td>';\n  }\n  for (var i = 1; i <= Dlast; i++) {\n    if (i === new Date().getDate() && D.getFullYear() === new Date().getFullYear() && D.getMonth() === new Date().getMonth()) {\n      calendar += '<td class=\"today\">' + i;\n    } else {\n      calendar += '<td>' + i;\n    }\n    if (new Date(D.getFullYear(), D.getMonth(), i).getDay() === 0) {\n      calendar += '<tr>';\n    }\n  }\n  for (var i = DNlast; i < 7; i++) calendar += '<td> ';\n  document.querySelector('#' + id + ' tbody').innerHTML = calendar;\n  document.querySelector('#' + id + ' thead td:nth-child(2)').innerHTML = month[D.getMonth()] + ' ' + D.getFullYear();\n  document.querySelector('#' + id + ' thead td:nth-child(2)').dataset.month = D.getMonth();\n  document.querySelector('#' + id + ' thead td:nth-child(2)').dataset.year = D.getFullYear();\n  if (document.querySelectorAll('#' + id + ' tbody tr').length < 6) {  // чтобы при перелистывании месяцев не \"подпрыгивала\" вся страница, добавляется ряд пустых клеток. Итог: всегда 6 строк для цифр\n    document.querySelector('#' + id + ' tbody').innerHTML += '<tr><td> <td> <td> <td> <td> <td> <td> ';\n  }\n}\n\nif ($('#calendar').length !== 0) {\n  calendar(\"calendar\", new Date().getFullYear(), new Date().getMonth());\n// переключатель минус месяц\n  document.querySelector('#table-arrow-left').onclick = function () {\n    calendar(\"calendar\", document.querySelector('#calendar thead td:nth-child(2)').dataset.year, parseFloat(document.querySelector('#calendar thead td:nth-child(2)').dataset.month) - 1);\n  };\n// переключатель плюс месяц\n  document.querySelector('#table-arrow-right').onclick = function () {\n    calendar(\"calendar\", document.querySelector('#calendar thead td:nth-child(2)').dataset.year, parseFloat(document.querySelector('#calendar thead td:nth-child(2)').dataset.month) + 1);\n  };\n}\n\n\n// WEBPACK FOOTER //\n// ./public/scripts/calendar.js","// index helpers\n$('.time-piece.active').on('click', () => $('body').addClass('dimmed'));\nlet timeLines = $('.meeting-ui__time-line');\nlet lastScrollLeft = $('.meeting-ui').scrollLeft();\nlet calendarElem = $('.calendar');\nlet meetingInfo = $('.meeting-info');\n$('.month-UTC').each((i, elem) => $(elem).text(getLetterMonthRu($(elem).text())));\n$(window).scroll(\n  () => {\n    $('.time-piece.placed .meeting-info').addClass('hidden');\n    calendarElem.addClass('hidden');\n    calendarElem.css('transform', `translate(0, ${$(window).scrollTop()}px)`);\n    timeLines.css({\n      position: 'fixed',\n      transform: `translate(-${lastScrollLeft}px, 0)`\n      \n    });\n  }\n);\n$('.meeting-ui').scroll(\n  () => {\n    if (lastScrollLeft !== $('.meeting-ui').scrollLeft()) {\n      $('.time-piece.placed .meeting-info').addClass('hidden');\n      calendarElem.addClass('hidden');\n      timeLines.css({\n        position: 'absolute',\n        transform: `translate(0, ${$(window).scrollTop()}px)`\n      });\n      lastScrollLeft = $('.meeting-ui').scrollLeft();\n    }\n  }\n);\n$('.day-switcher__date').on('click', () => calendarElem.toggleClass('hidden'));\n$('.time-piece.placed').on('click', (event) => {\n  let target = $(event.target);\n  let width = window.innerWidth;\n  let offset = target.offset().left;\n  let widthElem = parseInt(target.css('width'), 10);\n  console.log(widthElem);\n  let meetingInfoWidth = parseInt(target.find('.meeting-info').css('width'), 10);\n  let needOffset;\n  let rightTrigger = ((offset + widthElem / 2) + meetingInfoWidth / 2);\n  let leftTrigger = ((offset + widthElem / 2) - meetingInfoWidth / 2);\n  let cornerOffset;\n  \n  target.find('.meeting-info').toggleClass('hidden');\n  if (!((rightTrigger < width) && (leftTrigger > 0))) {\n    if (rightTrigger < width) {\n      needOffset = leftTrigger - widthElem/2;\n      cornerOffset = offset + widthElem/2;\n      console.log('r<w', leftTrigger, offset)\n    }\n    if (leftTrigger > 0) {\n      needOffset = rightTrigger - width - widthElem/2;\n      cornerOffset = meetingInfoWidth - (width - offset) + widthElem/2;\n    }\n    \n    target.find('.meeting-info').css('left', `${-needOffset}px`);\n    target.find('.meeting-info__corner').css('left', `${cornerOffset}px`);\n    \n    if ((rightTrigger < width) && (leftTrigger > 0)) {\n      console.log('both')\n      $('.meeting-info').css('left', `${widthElem/2}px`);\n      $('.meeting-info__corner').css('left', `${meetingInfoWidth/2}px`);\n    }\n  } else {\n    console.log(\"true\")\n    $('.meeting-info').css('left', `${widthElem/2}px`);\n    $('.meeting-info__corner').css('left', `${meetingInfoWidth/2}px`);\n  }\n});\n\n// fix styles TODO:[A.Ivankov] вынести в стили\n// let reg = /Firefox/ig;\n// if (reg.test(window.navigator.userAgent)) {\n// \t$('.input-block__input_time').css('padding', '0')\n// }\n\n// fix for pages edit and add\n$('.input-block__input_members').focus(() => {\n  $('.member-list').fadeIn(500);\n});\n$('.input-block__input_members').focusout(() => {\n  $('.member-list').fadeOut(500);\n});\n// $(\".input-block__input_data\").on(\"change\", function() {\n//   this.setAttribute(\n//     \"data-date\",\n//     moment(this.value, \"YYYY-MM-DD\")\n//       .format( this.getAttribute(\"data-date-format\") )\n//   )\n// }).trigger(\"change\");\nlet regExp = /Firefox/ig;\nif (regExp.test(window.navigator.userAgent)) {\n  $('.input-block__input_time').css('padding', '0');\n  $('.input-block__icon_calendar').css('right', '40px');\n};\n\n// функция замены числового месяца на слово\nfunction getLetterMonthRu(month) {\n  return [\n    'января',\n    'февраля',\n    'марта',\n    'апреля',\n    'мая',\n    'июня',\n    'июля',\n    'августа',\n    'сентября',\n    'октября',\n    'ноября',\n    'декабря'\n  ][month]\n}\n\n// обработчики клика для добавления людей\n$('.member-list__element').on('click', (event) => {\n  let target = $(event.target);\n  // сврываем из списка эдемнтов\n  target.addClass('hidden');\n  let login = target.data('name');\n  $(`.add-member-list__element[data-name=${login}]`).removeClass('hidden')\n    .find('.member-list__checkbox')[0].checked = true;\n});\n\n// обработчик удаления людей из списка\n$('.button-delete_add-member').on('click', (event) => {\n  let target = $(event.target);\n  let login = target.parents('.add-member-list__element').data('name');\n  $(`.member-list__element[data-name=${login}]`).removeClass('hidden');\n  target.parents('.add-member-list__element').addClass('hidden')\n    .find('.member-list__checkbox')[0].checked = false;\n});\n\n// Событие для элемента ввода\n$('#input-members').keyup(function() {\n  let filter = $(this).val();\n  let filterTarget = $('.member-list');\n  let hide = $(filterTarget).find('li:not(.hidden:Contains(\"' + filter + '\"))');\n  let show = $(filterTarget).find('li:Contains(\"' + filter + '\"):not(.hidden)')\n  hide.hide();\n  show.show();\n});\n\n// выражение для нечувствительной к регистру текста функции Contains()\njQuery.expr[':'].Contains = function(a,i,m) {\n  return jQuery(a).text().toLowerCase().indexOf(m[3].toLowerCase())>=0;\n};\n\n$(document).ready(() => {\n  // инициализация календаря\n  $('.input-block__input_data').addClass('datepicker-here');\n  $('.input-block__input_data').datepicker();\n  \n  // предотвращение изменения даты в формате не подходящем нам\n  $('.input-block__input_data').keydown(function(e){\n    e.preventDefault();\n  });\n  let dateInInput = Date.parse($('#input-date.needModifyData').data('value'));\n  dateInInput = new Date(dateInInput);\n  let resultString = `${dateInInput.getUTCDate()} ${getLetterMonthRu(dateInInput.getUTCMonth())} ${dateInInput.getUTCFullYear()}`;\n  $('#input-date.needModifyData').val(resultString);\n  $('.timepicker').timepicker({\n    timeFormat: 'HH:mm',\n    interval: 15,\n    minTime: '8',\n    maxTime: '23',\n    defaultTime: '',\n    startTime: '',\n    dynamic: false,\n    dropdown: false,\n    scrollbar: false\n  });\n});\n\n//TODO:[A.Ivankov] валидация времени\n// TODO:[A.Ivankov] сделать выбор с помощью стрелок и enter\n\n\n\n// WEBPACK FOOTER //\n// ./public/scripts/helpers.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/scss/main.scss\n// module id = 2\n// module chunks = 0","import '../scss/main.scss';\nimport './helpers.js';\nimport './calendar.js';\nimport '../../pages/getRecomendation'\n\n\n// WEBPACK FOOTER //\n// ./public/scripts/app.js","module.exports.getRecommendation = function getRecommendation(date, members, db) {\n  // sort rooms by floors\n  let floors = [];\n  let rooms = JSON.parse(JSON.stringify(db.rooms));\n  rooms.forEach( room => {\n    if(floors.indexOf(room.floor) === -1) {\n      floors.push(room.floor);\n    }\n  });\n  floors = floors.map( floor => {\n    return { floorNumber: floor}\n  });\n  // надем сумму этажей пройдееную всеми участниками для каждого этажа\n  floors.forEach( floor => {\n    let floorNumber = floor.floorNumber;\n    floor.count = 0; // init count\n\n    members.forEach(member => {\n      floor.count += Math.abs((member.floor - parseInt(floorNumber, 10)));\n    });\n  });\n  // // сортируем по меньшему числу пройденных этажей\n  floors.sort((a, b) => a.count - b.count);\n  // // ищем подходящие комнаты на этом этаже\n  let allRecommendation = [];\n  floors.forEach( floor => {\n    let recommendedRooms = rooms.filter( room => room.floor === floor.floorNumber);\n    // фильтрровка и сортировка по вместимости\n    recommendedRooms = recommendedRooms.filter(room => room.capacity >= members.length);\n    recommendedRooms.sort((a, b) => a.capacity - b.capacity);\n    floor.rooms = JSON.parse(JSON.stringify(recommendedRooms));\n    // console.log(recommendedRooms);\n    // проверка по времени\n    let copyEvents = db.events.slice();\n    // console.log(copyEvents);\n    recommendedRooms.forEach( room => {\n      let eventsInRoom = copyEvents.filter(event => event.room === parseInt(room.id, 10));\n      room.dateValid = false;\n      room.events = eventsInRoom;\n      \n      // validation date\n      eventsInRoom.forEach((eventInRoom) => {\n        let dateStartValid = Date.parse(date.start) >= Date.parse(eventInRoom.date.end);\n        let dateEndValid = Date.parse(date.end) <= Date.parse(eventInRoom.date.start);\n        if(dateEndValid || dateStartValid) {\n          room.dateValid = true;\n        }\n      });\n    });\n    allRecommendation = allRecommendation.concat(recommendedRooms);\n  });\n  //копируем для будующих операций\n  let roomsWithEvents = JSON.parse(JSON.stringify(rooms));\n  // set recommended rooms id\n  \n  // console.log(allRecommendation);\n  allRecommendation = allRecommendation.filter(room => room.dateValid);\n  if (allRecommendation.length !== 0) {\n    let result = [];\n    allRecommendation.forEach((room) => {\n      result.push({\n        date: {\n          start: date.start,\n          end: date.end\n        },\n        room: room.id,\n        swap: []\n      });\n    });\n    return result;\n  } else {\n    // find all event in this period\n    let copyEvents = db.events.slice();\n    copyEvents = copyEvents.filter( event => {\n      let firstCondition = Date.parse(event.date.end) > Date.parse(date.start) && Date.parse(date.end) > Date.parse(event.date.start);\n  \n      let secondCondition = Date.parse(date.start) <= Date.parse(event.date.start) && Date.parse(date.end) >= Date.parse(event.date.end);\n  \n      let thirdCondition = Date.parse(date.start) >= Date.parse(event.date.start) && Date.parse(date.end) <= Date.parse(event.date.end);\n      // console.log(date, event.title);\n      // console.log(firstCondition, secondCondition, thirdCondition);\n      // console.log((firstCondition || secondCondition || thirdCondition))\n      return (firstCondition || secondCondition || thirdCondition);\n    });\n    // console.log(copyEvents);\n    // проходимся по всем пересекающимся с нужным времем event'ам\n    copyEvents.forEach( event => {\n      // берем комнаты и проходимся по всем ивентам в комнатах\n      rooms.forEach( room => {\n        if(parseInt(room.id, 10) !== event.room) {\n          let enableTransfer = true;\n          room.events.forEach( eventInRoom => {\n            // смотрим можно ли в эту комнату перенести переговорку\n            let firstCondition = Date.parse(eventInRoom.date.end) > Date.parse(event.date.start) && Date.parse(event.date.end) > Date.parse(eventInRoom.date.start);\n            \n            let secondCondition = Date.parse(event.date.start) <= Date.parse(eventInRoom.date.start) && Date.parse(event.date.end) >= Date.parse(eventInRoom.date.end);\n            \n            let thirdCondition = Date.parse(event.date.start) >= Date.parse(eventInRoom.date.start) && Date.parse(event.date.end) <= Date.parse(eventInRoom.date.end);\n            let dateValid = firstCondition || secondCondition || thirdCondition;\n            \n            // прошли ли все проверки по совместимости\n            if(dateValid) {\n              enableTransfer = false;\n            }\n          });\n          // если все мероприятия прошли проверку совместимости то его можно перенести\n          if (enableTransfer) {\n            if (Array.isArray(room.swap)){\n              let duplicate = room.swap.filter(item => item.eventMain === event.id);\n              if (duplicate.length === 0) {\n                room.swap.push({\n                  event: event.id,\n                  room: room.id,\n                  roomEvent: event.room\n                });\n              }\n            } else {\n              room.swap = [{\n                event: event.id,\n                room: room.id,\n                roomEvent: event.room\n              }]\n            }\n          }\n        }\n      })\n    });\n    let result = [];\n    let allSwaps = [];\n    // return(rooms);\n    // создвем мвссив для ответа\n    rooms.forEach(room => {\n      if (room.swap != null) {\n        allSwaps = allSwaps.concat(room.swap);\n      }\n    });\n    // return allSwaps\n    allSwaps.forEach( swap => {\n      let room = db.rooms.filter(room => parseInt(swap.roomEvent, 10) === parseInt(room.id, 10));\n      console.log(room);\n      if(room[0] != null) {\n        swap.floorEvent = room[0].floor;\n      }\n    });\n    \n    let sortSwapsByFloor = [];\n    // сортировка комнат по наименьшему количеству пройденных этажей\n    floors.forEach(floor => {\n      let swaps = allSwaps.filter(swap => floor.floorNumber === swap.floorEvent);\n      sortSwapsByFloor = sortSwapsByFloor.concat(swaps);\n    });\n    // соединяем возможные переносы по комнатам которые освободятся\n    let a = null;\n    let resultMassive = [];\n    sortSwapsByFloor.forEach( swap => {\n      if(swap.event !== a) {\n        a = swap.event;\n        resultMassive.push([swap])\n      } else {\n        resultMassive[resultMassive.length - 1].push(swap);\n      }\n    });\n    console.log(sortSwapsByFloor);\n    // создаем требуемый формат ответа\n    resultMassive.forEach((swaps) => {\n      result.push({\n        date: {\n          start: date.start,\n          end: date.end\n        },\n        room: swaps[0].roomEvent,\n        swap: swaps.map( element => {\n          return { event: element.event, room: element.room }\n        })\n      });\n    });\n    if (result.length !== 0) { //TODO:[A.Ivankov] поменять на валидное условие отвта\n      return result\n    } else {\n      // блок подбора времни по времени освобождения переговоро\n      let timeDiff = Date.parse(date.end) - Date.parse(date.start);\n      let endTime = new Date(Date.parse(date.start));\n      endTime.setUTCHours(23);\n      endTime.setUTCMinutes(0);\n      let eventsWithNewTime = [];\n      roomsWithEvents.forEach( room => {\n        let events = room.events;\n        let eventsAfterStart = events.filter(event => Date.parse(event.date.end) > Date.parse(date.start));\n        eventsAfterStart.forEach( eventAfterStart => {\n          let newDate  = {\n            start: Date.parse(eventAfterStart.date.end),\n            end: (Date.parse(eventAfterStart.date.end) + timeDiff),\n            room: eventAfterStart.room,\n            validEvent: false\n          };\n          events.forEach( eventValidation => {\n            console.log(eventValidation);\n            let dateStartValid = newDate.start >= Date.parse(eventValidation.date.end);\n            let dateEndValid = newDate.end <= Date.parse(eventValidation.date.start);\n            if((dateEndValid || dateStartValid) && newDate.end < endTime.valueOf()) {\n              newDate.dateValid = true;\n            }\n          });\n          eventsWithNewTime.push(newDate);\n        })\n      });\n      // фильтр по ближайшей освободившейся переговрке\n      // eventsWithNewTime.filter(event => event.validEvent === true);\n      eventsWithNewTime.sort((a, b) => a.start - b.start);\n      let recommendation = [];\n      eventsWithNewTime.forEach( event => {\n        recommendation.push({\n          date: {\n            start: new Date(event.start).toISOString(),\n            end: new Date(event.end).toISOString()\n          },\n          room: event.room,\n          swap: []\n        })\n      });\n      return recommendation;\n    }\n  }\n};\n\n\n// WEBPACK FOOTER //\n// ./pages/getRecomendation.js"],"sourceRoot":""}